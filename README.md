# 🎨 Canvas Designer

企业级海报生成器 - 原子化组件拖拽系统 + AI辅助设计

## ✨ 特性

- 🧩 **原子化组件系统** - 灵活的积木式拖拽
- 🎯 **组合组件** - 预制的高频组合（如页眉、内容卡片）
- 🎨 **三种主题风格** - 简约商务、科技感、温暖活力
- 🤖 **AI辅助设计** - 图片生成、文案润色、属性建议（通义千问）
- 📦 **矢量格式输出** - 支持SVG导出
- 🎭 **完整编辑系统** - 拖拽、缩放、旋转、图层调整、属性编辑

## 🎨 核心功能

### ✅ Phase 1: 基础系统
- [x] 拖拽移动组件
- [x] 原子组件（文本、矩形、圆形）
- [x] 组合组件（页眉）
- [x] 选中/取消选择
- [x] 美观科技感界面

### ✅ Phase 2: 完善编辑（已完成 ✨）
- [x] **8方向缩放** - 自由调整组件大小
- [x] **360度旋转** - 旋转手柄 + 精确滑块
- [x] **属性编辑面板** - 实时编辑所有属性
- [x] **图层管理** - zIndex上下移动
- [x] **删除功能** - Delete键 + 面板按钮
- [x] **SVG导出** - 矢量格式，可缩放不失真
- [x] **PNG导出** - 高清图片，适合打印和分享
- [x] **键盘快捷键** - Escape取消选择

## 🏗️ 项目结构

```
canvas-designer/
├── packages/
│   ├── frontend/          # 前端（React + Vite + Konva）
│   │   ├── src/
│   │   │   ├── components/
│   │   │   │   ├── atoms/      # 原子组件
│   │   │   │   ├── composite/   # 组合组件
│   │   │   │   ├── canvas/     # 画布 + Transformer
│   │   │   │   ├── properties/  # 属性编辑面板
│   │   │   │   └── toolbar/    # 工具栏 + 导出
│   │   │   ├── store/       # Zustand状态管理
│   │   │   ├── types/       # TypeScript类型
│   │   │   └── utils/       # 工具函数
│   │   └── package.json
│   │
│   └── backend/           # 后端（Express + TypeScript）
│       ├── src/
│       │   ├── routes/      # 路由
│       │   ├── services/    # AI服务（通义千问）
│       │   └── utils/       # 工具函数
│       └── package.json
│
├── package.json
├── pnpm-workspace.yaml
├── README.md
├── QUICKSTART.md
└── FEATURES_COMPLETED.md
```

## 🚀 快速开始

### 前置要求

- Node.js >= 18
- npm 或 pnpm

### 安装依赖

```bash
npm install
```

### 开发模式

```bash
# 启动前端和后端
npm run dev

# 仅启动前端
npm run dev:frontend

# 仅启动后端
npm run dev:backend
```

### 构建

```bash
# 构建所有
npm run build

# 仅构建前端
npm run build:frontend

# 仅构建后端
npm run build:backend
```

## 📦 技术栈

### 前端
- React 18 + TypeScript
- Vite（构建工具）
- Tailwind CSS（样式）
- react-konva（图形渲染）
- Zustand（状态管理）

### 后端
- Express
- TypeScript
- CORS（跨域）

## 🎨 组件系统

### 原子组件（Atoms）
- 文本组件 - 可编辑文字、字体、颜色、大小
- 图片组件（用户上传、AI生成）
- 图形组件（矩形、圆形、线条）
- 图表组件（柱状图、饼图、折线图）
- 装饰元素（边框、背景、纹理、水印）
- 二维码/条码

### 组合组件（Composite）
- 页眉组合 - 标题+副标题+装饰
- 内容卡片 - 图文混排卡片
- 图表区域 - 图表+标题+图例
- 品牌页脚 - Logo+版权+联系方式
- 信息区块 - 关键信息网格

## 🎯 使用指南

### 基础操作

1. **添加组件** - 从工具栏选择原子或组合组件
2. **拖拽移动** - 直接拖拽画布上的组件
3. **缩放组件** - 选中后拖拽8个方向手柄
4. **旋转组件** - 拖拽旋转手柄或使用滑块
5. **编辑属性** - 右侧面板实时编辑所有属性
6. **管理图层** - 调整zIndex控制遮挡关系
7. **删除组件** - 按Delete键或点击面板删除按钮
8. **导出海报** - 选择SVG（矢量）或PNG（高清）导出

### 属性面板功能

**基本属性**
- 位置坐标（X/Y）
- 尺寸大小（宽/高）
- 旋转角度（滑块+输入）
- 透明度（滑块+输入）

**图层控制**
- 显示当前层级
- 上移/下移按钮

**组件特定属性**
- 文本：内容、字体大小、颜色、对齐、粗细
- 图形：填充色、边框色、边框宽度、圆角

## 🎯 功能路线图

### Phase 3: 扩展组件（计划中 📋）
- [ ] 图片组件（上传+AI生成）
- [ ] 图表组件
- [ ] 二维码组件
- [ ] 更多图形（线条、图标）

### Phase 4: AI集成（计划中 📋）
- [ ] 通义千问API集成
- [ ] AI图片生成
- [ ] AI文案润色
- [ ] AI属性建议

### Phase 5: 高级功能（计划中 📋）
- [ ] 模板系统
- [ ] 组件保存为模板
- [ ] 历史记录和撤销/重做
- [ ] 批量导出
- [ ] 快捷键系统

## 📝 文档

- **README.md** - 项目介绍、特性、技术栈
- **QUICKSTART.md** - 快速启动、功能说明、使用技巧
- **FEATURES_COMPLETED.md** - 短期功能详细说明

## 📄 许可证

MIT

---

## 🎉 当前状态

✨ **短期功能已全部完成！** 可以开始使用：

- ✅ 拖拽移动组件
- ✅ 8方向自由缩放
- ✅ 360度旋转控制
- ✅ 实时属性编辑
- ✅ 图层管理
- ✅ 删除功能
- ✅ SVG导出
- ✅ PNG导出
- ✅ 键盘快捷键

立即开始创建专业海报吧！ 🚀
